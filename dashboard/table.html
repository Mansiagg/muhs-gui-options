<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DataTable + Card View Toggle</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.datatables.net/1.13.8/css/dataTables.bootstrap5.min.css" rel="stylesheet">
<link href="https://cdn.datatables.net/buttons/2.4.2/css/buttons.bootstrap5.min.css" rel="stylesheet">

<style>
#cardView {
    display: none;
}
.card-item {
    border-radius: 10px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
}
.dataTables_wrapper .dt-buttons {
    float: left;
}
.dataTables_filter {
    float: right;
}
</style>

</head>
<body class="p-3">

<div class="container-fluid">

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h4>DataTable with Card View Toggle</h4>
        <button id="toggleView" class="btn btn-primary">Card View</button>
    </div>

    <!-- TABLE VIEW -->
    <table id="example" class="table table-striped table-bordered w-100">
        <thead>
        <tr>
            <th>Name</th><th>Position</th><th>Office</th><th>Age</th><th>Start date</th><th>Salary</th>
        </tr>
        </thead>
        <tbody>
        <tr><td>Tiger Nixon</td><td>System Architect</td><td>Edinburgh</td><td>61</td><td>2011-04-25</td><td>$320,800</td></tr>
        <tr><td>Garrett Winters</td><td>Accountant</td><td>Tokyo</td><td>63</td><td>2011-07-25</td><td>$170,750</td></tr>
        <tr><td>Ashton Cox</td><td>Junior Author</td><td>San Francisco</td><td>66</td><td>2009-01-12</td><td>$86,000</td></tr>
        </tbody>
    </table>

    <!-- CARD VIEW -->
    <div id="cardView" class="row g-3"></div>

</div>

<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<script src="https://cdn.datatables.net/1.13.8/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.8/js/dataTables.bootstrap5.min.js"></script>

<script src="https://cdn.datatables.net/buttons/2.4.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.bootstrap5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.print.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.colVis.min.js"></script>
<script>
var table;

$(document).ready(function () {
    table = $('#example').DataTable({
        responsive: true,
        dom: '<"d-flex justify-content-between align-items-center"fB>rtip',
        buttons: ['copy', 'csv', 'excel', 'pdf', 'print', 'colvis'],
        paging: true
    });

    generateCards();
});

function generateCards() {
    $('#cardView').empty();
    $('#example tbody tr').each(function () {
        var td = $(this).find('td');

        $('#cardView').append(`
            <div class="col-md-4">
                <div class="card p-3 card-item h-100">
                    <h5>${td.eq(0).text()}</h5>
                    <p><strong>Position:</strong> ${td.eq(1).text()}</p>
                    <p><strong>Office:</strong> ${td.eq(2).text()}</p>
                    <p><strong>Age:</strong> ${td.eq(3).text()}</p>
                    <p><strong>Start Date:</strong> ${td.eq(4).text()}</p>
                    <p><strong>Salary:</strong> ${td.eq(5).text()}</p>
                </div>
            </div>
        `);
    });
}

$("#toggleView").click(function () {
    if ($("#example").is(":visible")) {
        $("#example_wrapper").hide();
        $("#cardView").show();
        $(this).text("Table View");
    } else {
        $("#example_wrapper").show();
        $("#cardView").hide();
        $(this).text("Card View");
    }
});
</script>
</body>
</html>
